<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Nuevo Remito</title>

    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JQuery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- SweetAlert2 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>
<body>
    <div class="container">
        <h1>Cliente</h1>

        <form>
            <div class="row">

                <div class="form-group mb-3">
                    <label class="form-label" for="clientSelect">Seleccione un Cliente:</label>
                    <select class="form-select" id="clientSelect" required>
                        <option value="">Seleccione un cliente</option>
                    </select>
                </div>

            </div>

            <div class="row">
                <div class="mb-3 col-auto">
                    <label for="inputDate" class="form-label">Fecha</label>
                    <input type="text" class="form-control" id="inputDate" pattern="\d{2}/\d{2}/\d{4}" placeholder="dd/mm/aaaa" title="Cantidad de digitos requerida: dia(2)/mes(2)/año(4)">
                </div>
            </div>

            <div class="divider py-1 bg-success"></div>

            <h1>Detalle</h1>

            <div class="row">
                <table class="table" id="details-table">
                    <thead>
                    <tr>
                        <th scope="col">Fecha</th>
                        <th scope="col">Descripción</th>
                        <th scope="col">Cantidad</th>
                        <th scope="col">P. Total</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td><textarea id="date1" cols="0" rows="1"></textarea> </td>
                        <td><textarea id="desc1" cols="0" rows="1"></textarea> </td>
                        <td><textarea id="cant1" cols="0" rows="1"></textarea> </td>
                        <td><textarea id="pTotal1" cols="0" rows="1"></textarea> </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <button type="button" class="btn btn-primary" onclick="removeDetail()">-</button>
            <button type="button" class="btn btn-success" onclick="addDetail()">+</button>
            <br><br>
            <div class="row">
                <div class="mb-3 col-auto">
                    <label for="inputTotal" class="form-label">Total General ($): </label>
                    <input type="text" class="form-control" id="inputTotal" placeholder="Añada valor o calcúlelo">
                </div>
                <div class="mt-4 pt-2 mb-3 col-auto">
                    <button type="button" class="btn btn-success mb-3 col-auto" onclick="calcularTotal()">Calcular</button>
                </div>
            </div>
            <div class="row">
                <div class="mb-3 col-12">
                    <label for="inputObservations" class="form-label">Observaciones</label>
                    <input type="text" class="form-control" id="inputObservations">
                </div>
            </div>
        </form>

        <div class="container-flex">
            <div class="row">
                <div class="col">
                    <br>
                    <button type="button" class="btn btn-success btn-lg col-12" onclick="createRemito()">Crear Remito</button>
                    <br><br>
                </div>
            </div>
        </div>
    </div>

    <script src="NuevoRemito.js"></script>
    <script src="../../navBar.js"></script>
    <script>
        const dateInput = document.getElementById('inputDate');

        dateInput.addEventListener('input', function() {
            let value = dateInput.value.replace(/\D/g, ''); // Remover cualquier carácter que no sea número
            if (value.length > 2) value = value.slice(0, 2) + '/' + value.slice(2); // Agregar el primer guión
            if (value.length > 5) value = value.slice(0, 5) + '/' + value.slice(5); // Agregar el segundo guión
            dateInput.value = value;
        });
    </script>

</body>
</html>